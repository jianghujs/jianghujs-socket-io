<!--uiActionSwitch.html >>>>>>>>>>>>> -->
<script>
window.doUiActionSwitch = async (uiActionId, uiActionObj = {}) => {
  const root = window.$vueComponent.root;
  const chatSession = window.$vueComponent.chatSession;
  const leftPanel = window.$vueComponent.leftPanel;
  const chatInput = window.$vueComponent.chatInput;
  switch (uiActionId) {
    // ✅禁止系统菜单和文字选中
    case 'disableSystemEvent':
      await root.disableSystemEvent();
      break;
    // ✅同步中
    case 'setSyncStatusToSyncing':
      await root.setSyncStatusToSyncing();
      break;
    // ✅同步成功
    case 'setSyncStatusToSuccess':
      await root.setSyncStatusToSuccess();
      break;
    // ✅初始化socket
    case 'initWebSocket':
      await root.initWebSocket();
      break;
    // ✅获取登录用户信息
    case 'getUserInfo':
      await root.getUserInfo();
      break;
    // ✅断线重连
    case 'onSocketReConnect':
      await root.onSocketReConnect(uiActionObj);
      await chatSession.onSocketReConnect(uiActionObj);
      break;
    // ✅过滤和排序列表
    case 'reFilterList':
      await root.reFilterList();
      break;
    // ✅socket 发送消息
    case 'sendMsg':
      await root.sendMsg(uiActionObj);
      break;
    // ✅接收群消息后回调
    case 'onRoomMessage':
      await root.onRoomMessage(uiActionObj);
      break;
    // ✅接收到用户消息后回调
    case 'onUserMessage':
      await root.onUserMessage(uiActionObj);
      break;
    // ✅接收到用户通知后回调
    case 'onUserNotice':
      await root.onUserNotice(uiActionObj);
      break;
    // ✅接收到群组通知后回调
    case 'onRoomNotice':
      await root.onRoomNotice(uiActionObj);
      break;
    // ✅获取聊天列表
    case 'getChatSessionList':
      await leftPanel.getChatSessionList(uiActionObj);
      break;
    // ✅消息已读
    case 'delMessageOffline':
      await root.delMessageOffline();
      break;
    // ✅重新发送消息
    case 'startResendMsg':
      await chatSession.startResendMsg(uiActionObj);
      break;
    // ✅浏览器阻止默认事件
    case 'preventDefault':
      await root.preventDefault();
      break;
    // ✅消息栏划到最新消息处
    case 'scrollToBottom':
      await chatSession.scrollToBottom(uiActionObj);
      break;
    // ✅选择文件并发送
    case 'fileInputTap':
      await chatInput.fileInputTap(uiActionObj);
      break;
    // ✅合并单条信息
    case 'updateChatListItem':
      await root.updateChatListItem(uiActionObj);
      break;
    // ✅更新消息历史信息条
    case 'updateMessageItem':
      await chatSession.updateMessageItem(uiActionObj);
      break;
    default:
      console.error('doUiAction 异常; actionId找不到', {pageId: window.appInfo.pageId, uiActionId})
      break;
  }
}
</script>
<!-- <<<<<<<<<<<<< uiActionSwitch.html -->
